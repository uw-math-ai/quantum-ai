import stim

stabilizers = [
    "XXIIXXIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIXXIIXXIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIXXIIXXIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIXXIIXXI",
    "XIXIXIXIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIXIXIXIXIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIXIXIXIXIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIXIXIXIX",
    "IIIXXXXIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIIXXXXIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIIXXXXIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIIXXXX",
    "ZZIIZZIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIZZIIZZIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIZZIIZZIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIZZIIZZI",
    "ZIZIZIZIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIZIZIZIZIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIZIZIZIZIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIZIZIZIZ",
    "IIIZZZZIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIIZZZZIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIIZZZZIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIIXXXX", # Wait, is this right?
    "XXXIIIIXXXIIIIXXXIIIIXXXIIII",
    "ZZZIIIIZZZIIIIZZZIIIIZZZIIII"
]

# Correcting the Z stabilizer that looked like X
# The 24th stabilizer in the prompt is "IIIIIIIIIIIIIIIIIIIIIIIIZZZZ"
stabilizers[23] = "IIIIIIIIIIIIIIIIIIIIIIIIZZZZ"

# Let's double check the prompt
# "IIIIIIIIIIIIIIIIIIIIIIIIZZZZ" is indeed the 24th one (index 23)
# The prompt has:
# ...
# IIIIIIIIIIIIIIIIIZZZZIIIIIII
# IIIIIIIIIIIIIIIIIIIIIIIIZZZZ
# XXXIIIIXXXIIIIXXXIIIIXXXIIII
# ZZZIIIIZZZIIIIZZZIIIIZZZIIII

# 26 stabilizers total?
# The prompt lists:
# 1-4: X
# 5-8: X
# 9-12: X
# 13-16: Z
# 17-20: Z
# 21-24: Z
# 25: X
# 26: Z
# Total 26 stabilizers for 28 qubits? That means 2 logical qubits? Or maybe I miscounted.

try:
    tableau = stim.Tableau.from_stabilizers(stabilizers, allow_underconstrained=True)
    circuit = tableau.to_circuit("elimination")
    print(circuit)
except Exception as e:
    print(e)
