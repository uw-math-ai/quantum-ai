stabilizers = [
    "IIXIXXXIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIXIXXXIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIXIXXXIIIIIIIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIXIXXXIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIXIXXXIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIXIXXXIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIXIXXX",
    "IXIXIXXIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIXIXIXXIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIXIXIXXIIIIIIIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIXIXIXXIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIIIIIIIXIXIXXIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIXIXIXXIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIXIXIXX",
    "XXXIIXIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIXXXIIXIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIXXXIIXIIIIIIIIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIXXXIIXIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIIIIIIXXXIIXIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIXXXIIXIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIXXXIIXI",
    "IIZIZZZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIZIZZZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIZIZZZIIIIIIIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIZIZZZIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIZZZIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIZZZIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIZZZ",
    "IZIZIZZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIZIZIZZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIZIZIZZIIIIIIIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIZIZIZZIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIZIZZIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIZIZZIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZIZIZZ",
    "ZZZIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIZZZIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIZZZIIZIIIIIIIIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIZZZIIZIIIIIIIIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIIIIIIZZZIIZIIIIIIIIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZZZIIZIIIIIIII",
    "IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIZZZIIZI",
    "IIIIIIIIIIIIIIXXIXIIIIIIIIIIXXIXIIIXXIXIIIXXIXIII",
    "IIIIIIIXXIXIIIIIIIIIIXXIXIIIIIIIIIIXXIXIIIXXIXIII",
    "XXIXIIIXXIXIIIXXIXIIIIIIIIIIIIIIIIIXXIXIIIIIIIIII",
    "IIIIIIIIIIIIIIZZIZIIIIIIIIIIZZIZIIIZZIZIIIZZIZIII",
    "IIIIIIIZZIZIIIIIIIIIIZZIZIIIIIIIIIIZZIZIIIZZIZIII",
    "ZZIZIIIZZIZIIIZZIZIIIIIIIIIIIIIIIIIZZIZIIIIIIIIII"
]

# Pad short stabilizers to 49
corrected_stabilizers = []
for s in stabilizers:
    if len(s) < 49:
        # Assuming we need to pad with Is at the BEGINNING to match alignment?
        # NO. The pattern is usually shifted.
        # But wait. The prompt strings were explicit.
        # If I pad with 'I' at the end? Or beginning?
        # If I pad at the beginning: `II` + `...XIXXX` = `...IIXIXXX`.
        # This matches the pattern `IIXIXXX`.
        # Let's try to assume they follow the pattern `IIXIXXX`.
        # So I need to pad with 'I's such that they are length 49.
        # But WHERE?
        # Given the previous analysis, `s6` was `...XIXXX`.
        # If I interpret it as `...IIXIXXX`, it works.
        # So I should probably regenerate the stabilizers from the patterns instead of using the potentially truncated strings.
        pass
    corrected_stabilizers.append(s.ljust(49, 'I')) # Just pad with I at end? No, s6 had leading Is.

# Better: Generate from patterns
patterns = [
    "IIXIXXX", "IXIXIXX", "XXXIIXI",
    "IIZIZZZ", "IZIZIZZ", "ZZZIIZI"
]
gen_stabilizers = []
for p in patterns:
    for i in range(7):
        # The prompt strings for the last block (index 6) look truncated.
        # s6 was ...XIXXX (missing II at start relative to pattern).
        # s13 was ...XIXIXX (missing II at start relative to pattern? No, pattern is IXIXIXX).
        # s20 was ...XXXIIXI (missing nothing? Pattern is XXXIIXI).
        # Let's check s20 in prompt.
        # `IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIXXXIIXI`
        # 42 Is + XXXIIXI (7) = 49. Correct.
        
        # So only s6 seems truncated?
        # s6 prompt: `IIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIIXIXXX`
        # This is 42 Is + XIXXX (5).
        # It is missing the `II` part of `IIXIXXX`.
        # So it effectively is `II...II` `IIXIXXX` but the prompt dropped the `II` inside the string?
        # No, the prompt string is literally shorter.
        # So I should pad it to match the PATTERN.
        
        # I will use the generated stabilizers which are correct and full length.
        prefix = "I" * (i * 7)
        suffix = "I" * (49 - (i * 7) - 7)
        stab = prefix + p + suffix
        gen_stabilizers.append(stab)

# Add the global ones
extras = [
    "IIIIIIIIIIIIIIXXIXIIIIIIIIIIXXIXIIIXXIXIIIXXIXIII",
    "IIIIIIIXXIXIIIIIIIIIIXXIXIIIIIIIIIIXXIXIIIXXIXIII",
    "XXIXIIIXXIXIIIXXIXIIIIIIIIIIIIIIIIIXXIXIIIIIIIIII",
    "IIIIIIIIIIIIIIZZIZIIIIIIIIIIZZIZIIIZZIZIIIZZIZIII",
    "IIIIIIIZZIZIIIIIIIIIIZZIZIIIIIIIIIIZZIZIIIZZIZIII",
    "ZZIZIIIZZIZIIIZZIZIIIIIIIIIIIIIIIIIZZIZIIIIIIIIII"
]
gen_stabilizers.extend(extras)

with open("stabilizers_49_final.txt", "w") as f:
    for s in gen_stabilizers:
        f.write(s + "\n")

import stim
t = stim.Tableau.from_stabilizers([stim.PauliString(s) for s in gen_stabilizers], allow_underconstrained=True)
# If this succeeds, we are good.
print("Tableau created successfully.")
